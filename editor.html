<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>Редактор постів</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body { font-family: Arial, sans-serif; padding: 15px; background:#f4f6f8; }
    h2 { color:#333; }
    textarea { width: 100%; height: 300px; font-size: 16px; padding: 10px; border-radius:8px; border:1px solid #ccc; }
    button { margin-top: 10px; padding: 10px 20px; font-size: 16px; border:none; border-radius:8px; background:#0088cc; color:#fff; cursor:pointer; }
    button:hover { background:#0077b6; }
  </style>
</head>
<body>
  <h2>✏️ Редактор постів</h2>
  <textarea id="postText"></textarea><br>
  <button onclick="sendPost()">Зберегти та надіслати</button>

  <script>
    // отримуємо параметр post з URL
    function getQueryParam(name) {
      const params = new URLSearchParams(window.location.search);
      return params.get(name);
    }

    const post = getQueryParam("post");
    const textarea = document.getElementById("postText");

    if (post) {
      textarea.value = decodeURIComponent(post);
    } else {
      textarea.placeholder = "Додайте ваш перший пост тут...";
    }

    function sendPost() {
      let text = textarea.value;
      if (text.trim() === "") {
        alert("Будь ласка, введіть текст!");
        return;
      }
      Telegram.WebApp.sendData(text);
      Telegram.WebApp.close();
    }
  </script>
</body>
</html>
 